Команды бота (версия 2.7)

[Базовые]
/start   — проверить, что бот запущен, показать версию.
/help    — показать этот список команд.

[Символы]
/symbols — показать текущий список торговых пар.
/symbols <пары_через_запятую> — задать список торговых пар заново.
Примеры:
/symbols btcusdc, ethusdc

[Сбор сырых данных и метрик]
/now     — создать/обновить сырые файлы для всех пар из symbols_list.json.
/now <пары_через_запятую>     — создать/обновить сырые файлы только для указанных пар.
Примеры:
/now btcusdc

После /now для каждой пары SYMBOL:
- в STORAGE_DIR/SYMBOL.json:
  - до 100 свечей по TF1 и TF2,
  - ma30_arr, ma90_arr, atr14_arr по каждому TF,
  - сигналы по TF (UP/DOWN/RANGE) и общий market_mode,
  - trading_params: цены, фильтры Binance, шаги, минималки, комиссии.
- в STORAGE_DIR/SYMBOLraw_market.jsonl:
  - построчно ts, symbol, market_mode, tf1, tf2, signal_tf1, signal_tf2.

[Агрегация рынка]
/market — посчитать режим рынка (UP/DOWN/RANGE) за последние MARKET_PUBLISH часов
          для всех пар из symbols_list.json, без записи в state.
/market force — пересчитать и сохранить SYMBOLstate.json для всех пар из symbols_list.json
                на основе уже собранного сырья (Binance не трогаем).
/market force <symbol> — то же самое, но только для одной пары (пример: /market force bnbusdc).
[Работа с файлами STORAGE_DIR]
/data — показать список файлов в STORAGE_DIR.
/data export <FILES> — отправить указанные файлы.
/data export all     — отправить все файлы из STORAGE_DIR.
/data delete <FILES> — удалить указанные файлы.
/data delete all     — удалить все файлы из STORAGE_DIR.
Импорт:
/data import — команда указывается в подписи к отправляемому файлу (caption),
              файл будет сохранён в STORAGE_DIR, при совпадении имени — перезаписан.

[Планировщик]
/scheduler                 — показать текущие настройки планировщика.
/scheduler period XXX      — задать период шагов сбора сырья в секундах (60–21600).
/scheduler publish XXX     — задать период пересчёта рынка в часах (1–168).
/scheduler on              — включить планировщик.
/scheduler off             — выключить планировщик.

Примечания:
- Пары можно указывать в любом регистре, в файлах они сохраняются в ВЕРХНЕМ.
- При новом вызове /symbols список ПОЛНОСТЬЮ перезаписывается, а не дополняется.


# DCA (черновые команды)
/dca — краткий статус по DCA-конфигам.
/dca list — список конфигов по всем символам.
/dca cfg <symbol> — подробный конфиг по паре.
/dca set <symbol> budget <USDC> — задать бюджет.
/dca set <symbol> levels <N> — задать количество уровней.
/dca on <symbol> / /dca off <symbol> — включить/выключить DCA по паре.
