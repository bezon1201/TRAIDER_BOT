# Trader Bot — версия 1.8

Телеграм-бот под деплой на Render, работающий через webhook.

## Что есть в версии 1.8

- Вебхук для Telegram через FastAPI.
- Health-check эндпоинты: `GET /health` и `HEAD /health`.
- Уведомление админа при запуске: сообщение "Бот запущен. Версия 1.8".
- Команда `/start` отвечает: "Бот онлайн. Версия 1.8".

### Команды

См. файл `Bot_commands.txt`, команда `/help` отправляет его содержимое в чат.

Кратко:

- `/symbols` — управление списком торговых пар (файл `symbols_list.json` в `STORAGE_DIR`).
- `/now` — сбор и пересчёт сырья по символам.
- `/data` — работа с файлами в `STORAGE_DIR`.
- `/market force` — голосовой расчёт режима рынка и создание `<SYMBOL>state.json` на основе сырья.

## Переменные окружения

- `BOT_TOKEN` — токен Telegram-бота
- `ADMIN_CHAT_ID` — ID админского канала/чата
- `ADMIN_KEY` — ключ админа (зарезервировано)
- `BINANCE_API_KEY` — ключ Binance (пока не используется)
- `BINANCE_API_SECRET` — секрет Binance (пока не используется)
- `HTTP_PROXY` — HTTP-прокси (пока не используется)
- `HTTPS_PROXY` — HTTPS-прокси (пока не используется)
- `RAW_MAX_BYTES` — лимит размера raw-файлов (пока не используется)
- `STORAGE_DIR` — корень диска на Render для хранения json/jsonl
- `WEBHOOK_BASE` — публичный URL сервиса на Render без завершающего `/`
- `TF1` — старший таймфрейм (например, "12")
- `TF2` — младший таймфрейм (например, "6")
- `MARKET_PUBLISH` — окно голосования по рынку в часах (например, 12, 24 и т.п.)
