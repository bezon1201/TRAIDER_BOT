# Telegram Bot - FastAPI Version

Telegram-–±–æ—Ç –Ω–∞ Python —Å FastAPI –∏ Uvicorn –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ Render.com

## –í–µ—Ä—Å–∏–∏

### v3.1 (12.11.2025)
- üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É httpx –∏ python-telegram-bot
- ‚úÖ –£–¥–∞–ª–µ–Ω python-telegram-bot, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä—è–º–æ–π Telegram API —á–µ—Ä–µ–∑ httpx
- üì¶ –£–ø—Ä–æ—â–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚ö° –õ—É—á—à–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### v3.0 (12.11.2025)
- üöÄ –ü–µ—Ä–µ–¥–µ–ª–∞–Ω —Å Flask –Ω–∞ FastAPI + Uvicorn
- üì° –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ Webhook –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- üîÑ HTTPX AsyncClient –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.9+
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫
python main.py
# –∏–ª–∏
uvicorn main:app --host 0.0.0.0 --port 8000
```

## –î–µ–ø–ª–æ–π –Ω–∞ Render.com

1. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π **Web Service** –Ω–∞ Render.com
2. –ü–æ–¥–∫–ª—é—á–∏ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `uvicorn main:app --host 0.0.0.0 --port $PORT`
4. Environment Variables:
   - `BOT_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
   - `ADMIN_CHAT_ID` - ID —á–∞—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
   - `WEBHOOK_BASE` - URL —Å–µ—Ä–≤–∏—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://your-app.onrender.com`)
   - `DATA_STORAGE` - –ø—É—Ç—å –∫ Render Disk (–Ω–∞–ø—Ä–∏–º–µ—Ä: `/var/data`)

## Endpoints

- `GET /health` - Health check –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- `HEAD /health` - Health check (HEAD)
- `GET /` - Root endpoint
- `POST /telegram` - Webhook endpoint –¥–ª—è Telegram

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- `/data` - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- `/data export all` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –≤ —á–∞—Ç
- `/data delete all` - –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ DATA_STORAGE

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ v3.1 (FastAPI + Direct API)

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏:
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - —Ç–æ–ª—å–∫–æ FastAPI + httpx
- **–ü—Ä—è–º–æ–π API** - –Ω–∞–ø—Ä—è–º—É—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Telegram Bot API
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å** - –ø–æ–ª–Ω–∞—è async/await –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞
- **–ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤** - –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É –ø–∞–∫–µ—Ç–∞–º–∏

## Dependencies

| –ü–∞–∫–µ—Ç | –í–µ—Ä—Å–∏—è | –ó–∞—á–µ–º |
|-------|--------|-------|
| fastapi | 0.104.1 | Web framework |
| uvicorn | 0.24.0 | ASGI server |
| httpx | 0.25.2 | Async HTTP client |
| python-dotenv | 1.0.0 | Environment variables |

## UptimeRobot –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```
URL: https://your-app.onrender.com/health
–¢–∏–ø: HTTP HEAD
–ò–Ω—Ç–µ—Ä–≤–∞–ª: 5 –º–∏–Ω—É—Ç
```

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ v3.1

**–ë—ã–ª–æ (v3.0):**
```
fastapi==0.104.1
uvicorn==0.24.0
httpx==0.25.2
python-telegram-bot==21.5  # –ö–æ–Ω—Ñ–ª–∏–∫—Ç!
python-dotenv==1.0.0
```

**–°—Ç–∞–ª–æ (v3.1):**
```
fastapi==0.104.1
uvicorn==0.24.0
httpx==0.25.2
python-dotenv==1.0.0
```

python-telegram-bot –±—ã–ª —É–¥–∞–ª—ë–Ω, —Ç–∞–∫ –∫–∞–∫ –æ–Ω —Ç—Ä–µ–±—É–µ—Ç httpx~=0.27, –∞ —ç—Ç–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä—è–º–æ–π Telegram Bot API —á–µ—Ä–µ–∑ httpx.

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Binance API
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞
- –ú–µ—Ç—Ä–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
