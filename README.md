# Trader Bot — версия 1.10

Телеграм-бот под деплой на Render, работающий через webhook.

## Что есть в версии 1.10

- Вебхук для Telegram через FastAPI.
- Health-check эндпоинты: `GET /health` и `HEAD /health`.
- Уведомление админа при запуске: сообщение "Бот запущен. Версия 1.10".
- Команда `/start` отвечает: "Бот онлайн. Версия 1.10".
- `/symbols`, `/now`, `/data`, `/market force` работают на основе файлов в `STORAGE_DIR`.

Основная новинка 1.8–1.10 — модуль `coin_state.py` и команда `/market force`,
которая на основе истории `SYMBOLraw_market.jsonl` и окна `MARKET_PUBLISH` часов
создаёт/обновляет файлы `SYMBOLstate.json` c итоговым режимом рынка и
параметрами торговли, скопированными из сырья `SYMBOL.json`.

## Переменные окружения

- `BOT_TOKEN` — токен Telegram-бота
- `ADMIN_CHAT_ID` — ID админского канала/чата
- `ADMIN_KEY` — ключ админа (зарезервировано)
- `BINANCE_API_KEY` — ключ Binance (пока не используется)
- `BINANCE_API_SECRET` — секрет Binance (пока не используется)
- `HTTP_PROXY` — HTTP-прокси (пока не используется)
- `HTTPS_PROXY` — HTTPS-прокси (пока не используется)
- `RAW_MAX_BYTES` — лимит размера raw-файлов (пока не используется)
- `STORAGE_DIR` — корень диска на Render для хранения json/jsonl
- `WEBHOOK_BASE` — публичный URL сервиса на Render без завершающего `/`
- `TF1` — старший таймфрейм (например, "12")
- `TF2` — младший таймфрейм (например, "6")
- `MARKET_PUBLISH` — окно голосования по рынку в часах (например, 12, 24 и т.п.)
